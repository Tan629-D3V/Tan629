import React, { useRef } from 'react'
import {
  Button,
  Flex,
  Box,
  Text,
  Slide,
  useDisclosure,
  Drawer,
  DrawerOverlay,
  DrawerContent,
  DrawerCloseButton,
  DrawerHeader,
  DrawerBody,
  Stack,
  Icon,
} from '@chakra-ui/react'
import NextLink from 'next/link'
import styled from '@emotion/styled'
import useMediaQuery from '../hook/useMediaQuery'
import { AiOutlineMenu } from 'react-icons/ai'
import NavbarDrawer from './NavbarDrawer'
import Link from 'next/link'

// Add fade-in animation for the logo
const fadeInLogo = `
@keyframes fadeInLogo {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1.2); }
}
`;
if (typeof window !== 'undefined') {
  const style = document.createElement('style');
  style.innerHTML = fadeInLogo;
  document.head.appendChild(style);
}

export default function Navbar({ enableTransition }) {
  const { isOpen, onOpen, onClose } = useDisclosure()
  const isLargerThan768 = useMediaQuery(768)
  const firstField = useRef()
  const Bracket = styled.span`
    color: #8f9094;
    font-weight: 600;
  `

  return (
    <Box pos="relative" zIndex={99}>
      <Flex
        as="nav"
        align="center"
        justify="space-between"
        direction="row"
        w="100%"
        px={{ base: 10, md: 24 }}
        py="2"
        bg="rgba(0, 0, 0, 0)"
        backdropFilter="blur(10px)"
        // borderBottom="1px solid rgba(0, 0, 0, 0))"
        // boxShadow="0 0 25px rgba(0, 0, 0, 0)"
      >
        <Box
          as={Link}
          href="/"
          display="flex"
          alignItems="center"
          className="navbar-logo-wrapper"
          _hover={{ opacity: 0.9, transform: 'scale(1.2)' }}
          transition="all 0.4s cubic-bezier(0.4, 0, 0.2, 1)"
          style={{ width: 140, height: 140, justifyContent: 'center', margin: '0 1rem', animation: 'fadeInLogo 1.2s ease' }}
          borderRadius="full"
        >
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            width="120"
            height="120"
            viewBox="0 0 500 500"
            className="navbar-logo-svg"
            style={{ display: 'block' }}
          >
            <circle cx="250" cy="250" r="250" fill="#000000" />
            <path d="M0 0 C0.495 1.98 0.495 1.98 1 4 C-0.19625 4.350625 -1.3925 4.70125 -2.625 5.0625 C-9.52016705 7.70139109 -12.58403725 12.78445261 -15.6875 19.25 C-20.92826774 31.67569126 -22.54592395 43.63389924 -20 57 C-19.34 57 -18.68 57 -18 57 C-17.89042969 56.27039063 -17.78085937 55.54078125 -17.66796875 54.7890625 C-16.29535676 49.05780541 -12.79706759 44.30000634 -8.0625 40.875 C-4.23996564 39.78284733 -1.81983006 39.91891602 2 41 C4.73236142 43.27696785 5.0417011 45.16124424 5.9375 48.625 C6.39707116 53.98999381 4.72320655 58.4291683 2 63 C-1.2377244 66.79453051 -4.4159276 69.42973393 -9.125 71.125 C-14.28567541 70.90062281 -17.60542134 68.67935345 -21.125 65.0625 C-24.95542195 60.3853532 -26.39822146 54.73813605 -28 49 C-28.44730469 49.67546875 -28.89460938 50.3509375 -29.35546875 51.046875 C-35.94516761 60.76984218 -35.94516761 60.76984218 -40 63 C-43.5 63.5625 -43.5 63.5625 -47 63 C-51.72776272 59.20602556 -53.43168426 55.24062089 -55.3125 49.6875 C-55.57611328 48.94693359 -55.83972656 48.20636719 -56.11132812 47.44335938 C-56.75358507 45.63336254 -57.37858726 43.81725857 -58 42 C-66.02012751 45.24583319 -69.19425563 56.27328694 -72.55200195 63.7331543 C-75.83027098 70.9944387 -75.83027098 70.9944387 -78 74 C-78.99 74 -79.98 74 -81 74 C-82.53166168 69.91556885 -81.63081652 66.20544343 -81 62 C-81.556875 62.763125 -82.11375 63.52625 -82.6875 64.3125 C-85.8213953 67.95459453 -88.20642646 69.73843719 -93 70.4375 C-96.89958663 69.86881028 -98.32309075 68.89395595 -101 66 C-103.76445774 60.7213156 -104.83446593 54.794698 -106 49 C-106.77085937 49.91523438 -107.54171875 50.83046875 -108.3359375 51.7734375 C-109.3489108 52.97399844 -110.36193424 54.17451708 -111.375 55.375 C-111.88289062 55.97828125 -112.39078125 56.5815625 -112.9140625 57.203125 C-113.40390625 57.78320312 -113.89375 58.36328125 -114.3984375 58.9609375 C-115.07398682 59.76217041 -115.07398682 59.76217041 -115.76318359 60.57958984 C-116.79399612 61.76341678 -117.89004039 62.89004039 -119 64 C-122.125 64.125 -122.125 64.125 -125 64 C-127.64027118 59.42557668 -127.0595527 56.03671427 -126 51 C-123.43939588 42.07591435 -119.55269283 32.79625263 -112 27 C-109.26208189 26.03434423 -106.89092284 25.70639065 -104 26 C-98.50686642 28.69662921 -98.50686642 28.69662921 -97.125 32.25 C-97.08375 32.8275 -97.0425 33.405 -97 34 C-98.75 34.6875 -98.75 34.6875 -101 35 C-101.639375 34.505 -102.27875 34.01 -102.9375 33.5 C-104.89610931 31.78919972 -104.89610931 31.78919972 -107.375 31.875 C-112.32672428 33.99716755 -115.00532179 37.85325779 -117.234375 42.6640625 C-119.16496027 47.74234116 -120.51905356 52.58935257 -121 58 C-115.13424085 51.68182857 -109.95589921 45.0516119 -105 38 C-103.68 38.33 -102.36 38.66 -101 39 C-100.81824219 40.21816406 -100.63648438 41.43632812 -100.44921875 42.69140625 C-100.19579743 44.31517992 -99.9418639 45.93887371 -99.6875 47.5625 C-99.56955078 48.36236328 -99.45160156 49.16222656 -99.33007812 49.98632812 C-98.51770128 55.08972112 -97.23467749 59.33659739 -95 64 C-90.08488551 63.57870447 -88.15587488 61.69468278 -85 58 C-78.65060879 49.36416998 -74.82334325 41.10181064 -72.02734375 30.7578125 C-71 28 -71 28 -68 26 C-67.34 26.33 -66.68 26.66 -66 27 C-66.63065155 32.7809725 -67.65155132 38.3443706 -69 44 C-68.36384766 43.11634766 -68.36384766 43.11634766 -67.71484375 42.21484375 C-65.92566606 39.92233695 -64.19784856 37.9070826 -62 36 C-58.3125 35.5625 -58.3125 35.5625 -55 37 C-53.15676537 39.43957524 -52.16796074 41.23426896 -51 44 C-50.55398437 45.010625 -50.10796875 46.02125 -49.6484375 47.0625 C-46 55.54155028 -46 55.54155028 -46 58 C-40.84924734 56.73799223 -38.82320526 55.11859565 -35.875 50.75 C-35.23304688 49.81671875 -34.59109375 48.8834375 -33.9296875 47.921875 C-32.97449219 46.47554688 -32.97449219 46.47554688 -32 45 C-31.29617188 44.04351562 -30.59234375 43.08703125 -29.8671875 42.1015625 C-27.74809431 38.58156252 -27.04919808 35.64545562 -26.25 31.625 C-23.67574872 20.15311468 -19.15351346 7.70131889 -9 1 C-6.04335481 -0.4783226 -3.25770263 -0.06032783 0 0 Z " fill="#3CCF91" transform="translate(306,216)"/>
            <path d="M0 0 C-0.08203125 1.84448242 -0.08203125 1.84448242 -1 4 C-3.27605258 5.06188242 -5.29549223 5.79535829 -7.6875 6.48828125 C-8.75196602 6.8186161 -8.75196602 6.8186161 -9.8379364 7.15562439 C-12.22067689 7.89070158 -14.60997025 8.60151403 -17 9.3125 C-18.67338684 9.82305897 -20.34631122 10.33513583 -22.01879883 10.84863281 C-25.66958656 11.96665742 -29.32328205 13.07448971 -32.97900391 14.17626953 C-39.43719935 16.12641955 -45.88068941 18.12312059 -52.32421875 20.12109375 C-55.67561513 21.1576533 -59.02729136 22.19330056 -62.37915039 23.22836304 C-64.58507196 23.90956402 -66.79080124 24.59138801 -68.99633789 25.27383423 C-72.10428757 26.23387124 -75.21395966 27.18810047 -78.32421875 28.140625 C-79.26005295 28.43065903 -80.19588715 28.72069305 -81.16007996 29.01951599 C-82.01950699 29.28152298 -82.87893402 29.54352997 -83.7644043 29.81347656 C-84.51360641 30.04375549 -85.26280853 30.27403442 -86.03471375 30.5112915 C-88 31 -88 31 -91 31 C-91.11564301 31.73695602 -91.23128601 32.47391205 -91.35043335 33.23320007 C-92.4846047 40.27107155 -93.86141381 47.20268574 -95.4765625 54.14453125 C-95.83965515 55.72651306 -95.83965515 55.72651306 -96.21008301 57.3404541 C-97.0119069 60.83186844 -97.81847362 64.32216923 -98.625 67.8125 C-99.65030756 72.26848593 -100.67375082 76.72489794 -101.69607162 81.18157005 C-102.00456434 82.52629814 -102.31319263 83.87099513 -102.62195206 85.215662 C-105.12873366 96.13558564 -107.59055617 107.06513023 -110.03125 118 C-122.14524724 172.24630422 -122.14524724 172.24630422 -128.25 196.875 C-128.4688385 197.7682901 -128.687677 198.6615802 -128.91314697 199.5819397 C-133.21158729 217.06246923 -133.21158729 217.06246923 -137 224 C-139.75 225.0625 -139.75 225.0625 -142 225 C-144.88535298 219.22929404 -143.13094556 210.22020059 -142 204 C-140.35 204.33 -138.7 204.66 -137 205 C-132.66533856 192.34661331 -129.95223458 179.27584581 -127 166.25 C-126.55736228 164.30940845 -126.11471777 162.36881842 -125.67163467 160.42832851 C-119.11357886 131.70101809 -112.67467021 102.94626328 -106.23472977 74.19229031 C-105.38431627 70.39544294 -104.53326748 66.59873807 -103.68221283 62.80203438 C-103.09348026 60.17401252 -102.5058522 57.54574535 -101.91827393 54.91746521 C-101.55917543 53.3150008 -101.20002706 51.71254757 -100.84082031 50.11010742 C-100.60403061 49.04848326 -100.60403061 49.04848326 -100.36245728 47.96541214 C-99.31304837 43.29104408 -98.17652706 38.64405232 -97 34 C-114.84567702 39.29521174 -132.22678063 45.15993588 -149.53466797 52.04248047 C-152.32668187 53.12688119 -155.1422945 54.10298438 -158 55 C-157.67 56.32 -157.34 57.64 -157 59 C-159.375 59.625 -159.375 59.625 -162 60 C-164 58 -164 58 -164.125 55.6875 C-161.99615783 50.60193258 -155.98195675 48.33780715 -151.109375 46.18359375 C-140.44048978 41.85904315 -129.59168297 38.09570699 -118.671875 34.46484375 C-117.51222481 34.0784479 -117.51222481 34.0784479 -116.32914734 33.68424606 C-98.61580712 27.7916896 -80.7856576 22.29574855 -62.92669678 16.86383057 C-58.83673344 15.61860291 -54.74855274 14.36754786 -50.66015625 13.1171875 C-43.76159781 11.00779717 -36.8597812 8.90935815 -29.95628357 6.81619644 C-25.76868169 5.5442887 -21.58899579 4.24958101 -17.4140625 2.93652344 C-16.47228149 2.64365448 -15.53050049 2.35078552 -14.56018066 2.04904175 C-12.9051783 1.5337489 -11.25247025 1.01098854 -9.60290527 0.47854614 C-5.95356721 -0.64838735 -3.64293714 -1.1271748 0 0 Z " fill="#3CCF91" transform="translate(278,136)"/>
            <path d="M0 0 C0 1.32 0 2.64 0 4 C-0.79664063 4.17015625 -1.59328125 4.3403125 -2.4140625 4.515625 C-10.94194073 6.2938532 -10.94194073 6.2938532 -18 11 C-18.97350778 14.6365731 -18.97350778 14.6365731 -19 18 C-12.91736881 18.11264132 -10.22079 16.73225394 -5.6875 12.625 C-3.51169368 10.52775498 -1.38457107 8.41994435 0.65625 6.19140625 C1.0996875 5.79824219 1.543125 5.40507812 2 5 C4.1875 5.3125 4.1875 5.3125 6 6 C5.36514002 11.93197297 3.15621473 17.11752738 1 22.625 C-3.87029808 35.30697512 -8.03530068 48.16704363 -12.08959961 61.12939453 C-13.03058506 64.0964385 -14.0088857 67.04936274 -15 70 C-16.65 69.67 -18.3 69.34 -20 69 C-18.41609593 59.13568607 -15.10013561 49.92074194 -11.875 40.5 C-11.03012866 38.02068491 -10.18706046 35.54079164 -9.34744263 33.05969238 C-8.82770728 31.52495554 -8.30476754 29.99129931 -7.77828979 28.4588623 C-6.46136125 24.81228229 -6.46136125 24.81228229 -6 21 C-6.804375 21.495 -7.60875 21.99 -8.4375 22.5 C-12.80849185 24.34041762 -16.32283631 24.76325631 -21 24 C-23.5625 22.5625 -23.5625 22.5625 -25 20 C-25.81589305 15.47394065 -25.41548274 11.98205012 -23.625 7.75 C-17.52333494 1.35777946 -8.72911541 -2.3106482 0 0 Z " fill="#3CCF91" transform="translate(374,217)"/>
            <path d="M0 0 C2.4375 0.1875 2.4375 0.1875 3.4375 1.1875 C4.23185783 7.54236266 2.98665818 11.20387284 -0.765625 16.39453125 C-2.5625 18.1875 -2.5625 18.1875 -6.375 19.3125 C-9.5625 19.1875 -9.5625 19.1875 -10.5625 18.1875 C-10.34134416 11.88455849 -7.66931865 0.56116966 0 0 Z " fill="#3CCF91" transform="translate(302.5625,261.8125)"/>
          </svg>
        </Box>
        {isLargerThan768 ? (
          <Box mr={7} color="displayColor">
            <NextLink passHref href="/">
              <Button as="a" p="4" fontSize="16px" variant="ghost" transition="all 0.2s ease-in-out" _hover={{ color: 'white', bg: 'rgba(60, 207, 145, 0.1)' }}>
                Home
              </Button>
            </NextLink>
            <NextLink passHref href="/projects">
              <Button as="a" p="4" fontSize="16px" variant="ghost" transition="all 0.2s ease-in-out" _hover={{ color: 'white', bg: 'rgba(60, 207, 145, 0.1)' }}>
                Projects
              </Button>
            </NextLink>
          </Box>
        ) : (
          <Icon as={AiOutlineMenu} w={7} h={7} onClick={onOpen} />
        )}
      </Flex>
      <NavbarDrawer isOpen={isOpen} onClose={onClose} />
    </Box>
  )
}
